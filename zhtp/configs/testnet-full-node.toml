# Testnet Full Node Configuration
# Testing and development network with safe experimentation
# Suitable for: Development, testing, staging, QA validation

# ============================================================================
# CORE NODE SETTINGS - TESTNET
# ============================================================================

mesh_mode = "Hybrid"         # Support both mesh and TCP/IP
security_level = "High"      # High security but allow testing
environment = "Testnet"      # Testnet environment
data_directory = "./data/testnet"  # Testnet-specific data isolation

# ============================================================================
# CRYPTOGRAPHY CONFIGURATION - TESTNET
# ============================================================================

[crypto_config]
post_quantum_enabled = true  # Test PQ crypto
dilithium_level = 3          # Moderate security: Dilithium-3 (faster)
kyber_level = 768            # Moderate security: Kyber-768 (faster)
hybrid_mode = true           # Test hybrid approach
memory_security = true       # Secure memory handling enabled

# ============================================================================
# ZERO-KNOWLEDGE PROOF CONFIGURATION
# ============================================================================

[zk_config]
plonky2_enabled = true
proof_cache_size = 500       # Moderate cache for testing
circuit_cache_enabled = true
parallel_proving = true
verification_threads = 4     # Moderate performance

# ============================================================================
# IDENTITY MANAGEMENT
# ============================================================================

[identity_config]
auto_citizenship = true      # Easy onboarding for testing
ubi_registration = true
dao_auto_join = true
recovery_modes = ["mnemonic", "social"]  # Simpler recovery for testing
reputation_enabled = true

# ============================================================================
# DISTRIBUTED STORAGE
# ============================================================================

[storage_config]
dht_port = 33443            # Testnet DHT port (different from mainnet)
storage_capacity_gb = 100   # Lower capacity for testing
replication_factor = 2      # Lower redundancy for testnet
erasure_coding = true       # Test erasure coding
pricing_tier = "cold"       # Low-cost storage for testing

# ============================================================================
# NETWORK CONFIGURATION - TESTNET
# ============================================================================

[network_config]
mesh_port = 33445           # Testnet mesh port (different from mainnet)
max_peers = 100             # Moderate peer count for testing
protocols = ["tcp", "bluetooth", "wifi_direct"]
bootstrap_peers = [
    "testnet-seed1.sovereign.net:9334",
    "testnet-seed2.sovereign.net:9334",
    "testnet-seed3.sovereign.net:9334"
]
long_range_relays = true    # Test long-range protocols

# ============================================================================
# BLOCKCHAIN CONFIGURATION - TESTNET
# ============================================================================

[blockchain_config]
network_id = "zhtp-testnet"  # Testnet network identifier
chain_id = 2                 # Chain ID: 0x02 for replay protection
block_time_seconds = 5       # Faster blocks for testing (5 seconds)
max_block_size = 1048576     # 1MB blocks for testnet
zk_transactions = true       # Test zero-knowledge transactions
smart_contracts = true       # Test smart contracts
enforce_chain_id = true      # CRITICAL: Prevent mainnet transaction replay

# ============================================================================
# CONSENSUS CONFIGURATION
# ============================================================================

[consensus_config]
consensus_type = "Hybrid"    # Test hybrid consensus
dao_enabled = true           # Test DAO governance
validator_enabled = false    # Full node doesn't validate by default
min_stake = 100              # Low stake requirement for testing (100 SOV)
reward_multipliers = {}      # Validators earn SOV rewards

# ============================================================================
# ECONOMIC CONFIGURATION - TESTNET
# ============================================================================

[economics_config]
ubi_enabled = true
daily_ubi_amount = 100       # Higher UBI for testing (100 SOV/day)
dao_fee_percentage = 1.0     # Lower fees for testing (1%)
mesh_rewards = true          # Test mesh routing rewards (earn SOV)
storage_rewards = true       # Test storage rewards (earn SOV)

[economics_config.token_economics]
total_supply = 1000000000    # Same supply as mainnet for consistency
inflation_rate = 5.0         # Higher inflation for faster testing (5%)
burn_rate = 0.5              # Lower burn rate for testing
reward_pool_percentage = 20.0  # Higher reward pool for testing
# Token: SOV (Sovereign) - Earned through mesh routing, storage, and consensus

# ============================================================================
# PROTOCOL CONFIGURATION
# ============================================================================

[protocols_config]
lib_enabled = true
zdns_enabled = true
api_port = 9334              # Testnet API port (different from mainnet)
max_connections = 1000       # Moderate connections for testing
request_timeout_ms = 15000   # 15 second timeout

# ============================================================================
# RESOURCE ALLOCATIONS - TESTNET
# ============================================================================

[resource_allocations]
max_memory_mb = 2048         # 2GB RAM for testing
max_cpu_threads = 8          # 8 CPU threads
max_disk_gb = 500            # 500GB storage for testing
bandwidth_allocation = {}

# ============================================================================
# INTEGRATION & MONITORING
# ============================================================================

[integration_settings]
event_bus_enabled = true
service_discovery = true
health_check_interval_ms = 15000  # 15 second health checks
cross_package_timeouts = {}

# ============================================================================
# LOGGING CONFIGURATION - VERBOSE FOR TESTING
# ============================================================================

[logging]
level = "debug"              # Verbose logging for testing
file_logging = true
console_logging = true       # Enable console logging for development
structured_logging = true
performance_metrics = true
security_events = true       # Monitor security events
log_rotation = true
max_log_size_mb = 50
max_log_files = 5

# ============================================================================
# SECURITY CONFIGURATION - TESTNET
# ============================================================================

[security]
require_signatures = true    # All transactions must be signed
allow_unsafe_operations = true  # Allow testing of edge cases
rate_limiting = false        # No rate limiting for testing
audit_logging = true         # Full audit trail
penetration_testing_mode = true  # Enable testing mode
firewall_enabled = false     # More permissive for testing
ddos_protection = false      # Disabled for easier testing
intrusion_detection = true

# ============================================================================
# TESTNET-SPECIFIC FEATURES
# ============================================================================

[testnet_features]
faucet_enabled = false       # Faucet DISABLED - Users earn SOV through routing/storage
reset_allowed = true         # Allow periodic testnet resets
debugging_apis = true        # Enable additional debugging endpoints
performance_profiling = true # Enable performance profiling tools
# Note: Testnet users earn SOV tokens same as mainnet - by routing mesh traffic,
# providing storage, and participating in consensus. This tests the real economy.

# ============================================================================
# BACKUP & RECOVERY - TESTNET
# ============================================================================

[backup]
enabled = true
interval_hours = 24          # Daily backups for testnet
retention_days = 7           # Keep 7 days of backups
storage_backend = "local"    # Local storage for simplicity
encryption_enabled = true

# ============================================================================
# DEVELOPER TOOLS
# ============================================================================

[developer_tools]
transaction_replay = true    # Allow transaction replay for debugging
state_snapshots = true       # Enable state snapshots
time_travel = true           # Enable time travel debugging
contract_debugging = true    # Enhanced contract debugging tools
api_documentation = true     # Auto-generate API documentation
test_accounts_enabled = true # Pre-funded test accounts available
