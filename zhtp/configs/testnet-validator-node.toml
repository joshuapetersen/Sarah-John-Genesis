# Testnet Validator Node Configuration
# Optimized for consensus participation and block validation on TESTNET
# Suitable for: Testing validators, development validators, testnet stakers

# Core Node Settings
mesh_mode = "Hybrid"
security_level = "High"  # High but not maximum for testing
environment = "Testnet"
data_directory = "./data/testnet-validator"

[crypto_config]
post_quantum_enabled = true
dilithium_level = 3  # Faster for testing (vs 5 for mainnet)
kyber_level = 768    # Faster for testing (vs 1024 for mainnet)
hybrid_mode = true
memory_security = true

[zk_config]
plonky2_enabled = true
proof_cache_size = 1000  # Smaller cache for testnet
circuit_cache_enabled = true
parallel_proving = true
verification_threads = 8  # Moderate threads for testing

[identity_config]
auto_citizenship = true
ubi_registration = true
dao_auto_join = true
recovery_modes = ["mnemonic", "social"]  # Simpler recovery for testing
reputation_enabled = true

[storage_config]
dht_port = 33443  # Testnet DHT port
storage_capacity_gb = 200  # Lower storage for testnet validators
replication_factor = 2     # Lower replication for testing
erasure_coding = true
pricing_tier = "warm"

[network_config]
mesh_port = 33445  # Testnet mesh port
max_peers = 100    # Moderate peer count for testnet
protocols = ["tcp", "bluetooth", "wifi_direct"]
bootstrap_peers = [
    "testnet-seed1.sovereign.net:9334",
    "testnet-seed2.sovereign.net:9334"
]
long_range_relays = true

[blockchain_config]
network_id = "zhtp-testnet"
chain_id = 2  # Testnet chain ID
block_time_seconds = 5
max_block_size = 1048576  # 1MB blocks for testnet
zk_transactions = true
smart_contracts = true
enforce_chain_id = true  # CRITICAL: Prevent mainnet tx replay

[consensus_config]
consensus_type = "Hybrid"
dao_enabled = true
validator_enabled = true  # THIS IS A VALIDATOR
min_stake = 100  # Low stake for testing (vs 10000 for mainnet)
reward_multipliers = {}

[economics_config]
ubi_enabled = true
daily_ubi_amount = 100  # Higher UBI for testing
dao_fee_percentage = 1.0  # Lower fees for testing
mesh_rewards = true

[economics_config.token_economics]
total_supply = 1000000000
inflation_rate = 5.0  # Higher for faster testing
burn_rate = 0.5
reward_pool_percentage = 20.0

[protocols_config]
lib_enabled = true
zdns_enabled = true
api_port = 9334  # Testnet API port
max_connections = 1000
request_timeout_ms = 15000

[resource_allocations]
max_memory_mb = 2048  # 2GB for testnet validator
max_cpu_threads = 8
max_disk_gb = 500
bandwidth_allocation = {}

[integration_settings]
event_bus_enabled = true
service_discovery = true
health_check_interval_ms = 15000
cross_package_timeouts = {}

[logging]
level = "debug"  # Verbose for testing
file_logging = true
console_logging = true
structured_logging = true
performance_metrics = true
security_events = true
log_rotation = true
max_log_size_mb = 50
max_log_files = 5

[security]
require_signatures = true
allow_unsafe_operations = true  # Allow testing edge cases
rate_limiting = false
audit_logging = true
penetration_testing_mode = true
firewall_enabled = false
ddos_protection = false
intrusion_detection = true

[testnet_features]
faucet_enabled = false  # Validators don't need faucet
debugging_apis = true
performance_profiling = true

[backup]
enabled = true
interval_hours = 24
retention_days = 7
storage_backend = "local"
encryption_enabled = true
